(function(e){function t(t){for(var n,s,i=t[0],c=t[1],u=t[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{style:{background:e.$vuetify.theme.themes.light.background}},[r("v-main",[r("router-view")],1)],1)},o=[],s={name:"App",data:function(){return{icons:[{icon:"mdi-twitch",href:"https://twitch.tv/themanogalo"},{icon:"mdi-twitter",href:"https://twitter.com/manogalo_"},{icon:"mdi-github",href:"https://github.com/manogalo"}]}},methods:{openPage:function(e){window.open(e)}}},i=s,c=r("2877"),u=r("6544"),l=r.n(u),f=r("7496"),d=r("f6c4"),m=Object(c["a"])(i,a,o,!1,null,null,null),p=m.exports;l()(m,{VApp:f["a"],VMain:d["a"]});var v=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"frmConfirm",attrs:{"lazy-validation":""}},[r("div",[r("v-img",{attrs:{src:"https://i.imgur.com/qpLxiIH.png"}}),r("v-row",{staticClass:"my-2",attrs:{justify:"center"}},[r("v-btn",{attrs:{dark:""},on:{click:e.abrirDialog}},[e._v("Confirmar presença")])],1),r("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[[r("v-card",{attrs:{dark:""}},[r("v-card-title",[e._v("Confirme sua presença")]),r("v-card-text",[r("v-row",[r("v-text-field",{attrs:{dark:"",label:"Nome",rules:e.rules},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("v-row",[r("v-autocomplete",{attrs:{dark:"",clearable:"",items:e.lista,"item-value":"id","item-text":"desc",label:"Sugestão de presente",rules:e.rules},model:{value:e.form.giftId,callback:function(t){e.$set(e.form,"giftId",t)},expression:"form.giftId"}})],1),r("v-row",[r("v-col",{attrs:{align:"end"}},[r("v-btn",{staticClass:"ma-2",attrs:{color:"tertiary",dark:""},on:{click:e.confirmar}},[e._v(" Confirmar ")]),r("v-btn",{staticClass:"ma-2",on:{click:e.closeDialog}},[e._v(" Fechar ")])],1)],1)],1)],1)]],2)],1),r("v-snackbar",{attrs:{color:e.snackbar.color,timeout:e.snackbar.timeout,top:"top"},model:{value:e.openSnackbar,callback:function(t){e.openSnackbar=t},expression:"openSnackbar"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)},b=[],g=r("1da1"),x=r("5530"),w=(r("96cf"),r("2f62")),k={name:"Home",data:function(){return{dialog:!1,form:{username:null,giftId:null},rules:[function(e){return!!e||"Campo obrigatório"}],openSnackbar:!1,snackbar:{text:null,color:null,timeout:3e3}}},methods:Object(x["a"])(Object(x["a"])({},Object(w["b"])(["Register"])),{},{abrirDialog:function(){this.dialog=!0},confirmar:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.frmConfirm.validate()){t.next=12;break}return t.prev=1,t.next=4,e.Register(e.form);case 4:e.form={},e.$refs.frmConfirm.resetValidation(),e.showMessage("info","Presença confirmada!"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.showMessage("warning","Problemas para confirmar a sua presença.");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},closeDialog:function(){this.dialog=!1,this.$refs.frmConfirm.resetValidation()},showMessage:function(e,t){this.snackbar={color:e,text:t,timeout:3e3},this.openSnackbar=!0}}),mounted:function(){this.$store.dispatch("GetGiftList")},computed:Object(x["a"])({},Object(w["c"])({lista:"GiftList"}))},_=k,O=r("c6a6"),L=r("8336"),y=r("b0af"),j=r("99d9"),R=r("62ad"),V=r("169a"),C=r("4bd4"),G=r("adda"),S=r("0fd9"),P=r("2db4"),$=r("8654"),E=Object(c["a"])(_,h,b,!1,null,null,null),A=E.exports;l()(E,{VAutocomplete:O["a"],VBtn:L["a"],VCard:y["a"],VCardText:j["a"],VCardTitle:j["b"],VCol:R["a"],VDialog:V["a"],VForm:C["a"],VImg:G["a"],VRow:S["a"],VSnackbar:P["a"],VTextField:$["a"]});var M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"frmLogin",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374",dark:""}},[r("v-card-title",[e._v(" Painel de Administrador ")]),r("v-card-text",[r("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[r("v-text-field",{attrs:{label:"Login",rules:e.rules},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[r("v-text-field",{attrs:{label:"Senha",type:"password",rules:e.rules},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("v-row",{staticClass:"mx-0"},[e.showError?r("p",{staticStyle:{color:"red"}},[e._v("Usuário ou senha inválidos")]):e._e(),r("v-col",{attrs:{align:"end"}},[r("v-btn",{attrs:{color:"tertiary",dark:""},on:{click:e.submit}},[e._v("Login")])],1)],1)],1)],1)],1)},U=[],F={name:"Login",data:function(){return{form:{username:null,password:null},valid:!1,rules:[function(e){return!!e||"Campo obrigatório."}],showError:!1}},created:function(){},mounted:function(){},methods:Object(x["a"])(Object(x["a"])({},Object(w["b"])(["LogIn","LogOut","GetUserList"])),{},{gravar:function(){this.$refs.frmLogin.validate()&&console.log("Válido")},submit:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.frmLogin.validate()){t.next=13;break}return t.prev=1,t.next=4,e.LogIn(e.form);case 4:return t.next=6,e.GetUserList();case 6:e.$router.push("/list"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),e.showError=!0,console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},logout:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.LogOut();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}})},I=F,T=(r("d6db"),Object(c["a"])(I,M,U,!1,null,null,null)),z=T.exports;l()(T,{VBtn:L["a"],VCard:y["a"],VCardText:j["a"],VCardTitle:j["b"],VCol:R["a"],VForm:C["a"],VRow:S["a"],VTextField:$["a"]});var D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"frmPainel",attrs:{"lazy-validation":""}},[r("div",[r("v-expansion-panels",{attrs:{dark:""}},[r("v-expansion-panel",[r("v-expansion-panel-header",[e._v(" Lista de presenças confirmadas ")]),r("v-expansion-panel-content",[r("v-card",[r("v-simple-table",{attrs:{dark:"",height:"300"}},[r("thead",[r("tr",[r("th",[e._v(" Nome ")]),r("th",[e._v(" Presente ")]),r("th",[e._v(" Ação ")])])]),r("tbody",e._l(e.lista,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.username))]),r("td",[e._v(e._s(t.desc))]),r("td",[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"pink"},on:{click:function(r){return e.removerConvidado(t.id)}}},[e._v("mdi-delete")])],1)],1)])})),0)])],1)],1)],1),r("v-expansion-panel",[r("v-expansion-panel-header",[e._v(" Lista de presentes ")]),r("v-expansion-panel-content",[r("v-card",[r("v-row",[r("v-col",{staticClass:"d-flex align-left",attrs:{cols:"10",sm:"10"}},[r("v-text-field",{staticClass:"pa-2",attrs:{label:"Adicionar presente",size:"20",rules:e.campoObrigatorio},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}}),r("v-btn",{staticClass:"pa-2",attrs:{icon:"",dark:""},on:{click:e.addGift}},[r("v-icon",{attrs:{large:""}},[e._v("mdi-content-save")])],1)],1)],1),r("v-simple-table",{attrs:{dark:"",height:"300"}},[r("thead",[r("tr",[r("th",[e._v(" Presente ")]),r("th",[e._v(" Ação ")])])]),r("tbody",e._l(e.presentes,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.desc))]),r("td",[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"pink"},on:{click:function(r){return e.removerPresente(t.id)}}},[e._v("mdi-delete")])],1)],1)])})),0)])],1)],1)],1)],1),r("v-btn",{staticClass:"my-5 ma-2",attrs:{dark:""},on:{click:e.logout}},[e._v("Logout")]),r("v-snackbar",{attrs:{color:e.snackbar.color,timeout:e.snackbar.timeout,top:"top"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{color:"white",text:""},on:{click:function(t){e.openSnackbar=!1}}},"v-btn",n,!1),[e._v(" Fechar ")])]}}]),model:{value:e.openSnackbar,callback:function(t){e.openSnackbar=t},expression:"openSnackbar"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)])},H=[],B={name:"ControlPanel",data:function(){return{form:{desc:null},snackbar:{color:null,text:null,timeout:3e3},openSnackbar:!1,campoObrigatorio:[function(e){return!!e||"Campo obrigatório"}]}},computed:Object(x["a"])({},Object(w["c"])({isAuthenticated:"isAuthenticated",lista:"UserList",presentes:"GiftList"})),mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isAuthenticated||e.$router.push("/not-allowed"),t.next=3,e.$store.dispatch("GetUserList");case 3:return t.next=5,e.$store.dispatch("GetGiftList");case 5:case"end":return t.stop()}}),t)})))()},methods:Object(x["a"])(Object(x["a"])({},Object(w["b"])(["LogOut","RemoveGuest","AddGift","RemoveGift"])),{},{logout:function(){try{this.LogOut(),this.$router.push("/login")}catch(e){this.showMessage("blue","Erro ao realizar o logout.")}},removerConvidado:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.RemoveGuest(e);case 3:t.showMessage("blue","Convidado removido."),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.showMessage("blue","Erro ao realizar a exclusão.");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},removerPresente:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.RemoveGift(e);case 3:t.showMessage("blue","Presente removido."),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.showMessage("blue","Erro ao realizar a exclusão.");case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},addGift:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.frmPainel.validate()){t.next=10;break}return t.prev=1,t.next=4,e.AddGift(e.form);case 4:e.showMessage("blue","Presente adicionado."),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.showMessage("blue","Erro ao realizar a gravação.");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},showMessage:function(e,t){this.snackbar={color:e,text:t,timeout:3e3},this.openSnackbar=!0}})},N=B,q=r("cd55"),J=r("49e2"),W=r("c865"),K=r("0393"),Q=r("132d"),X=r("1f4f"),Y=Object(c["a"])(N,D,H,!1,null,null,null),Z=Y.exports;l()(Y,{VBtn:L["a"],VCard:y["a"],VCol:R["a"],VExpansionPanel:q["a"],VExpansionPanelContent:J["a"],VExpansionPanelHeader:W["a"],VExpansionPanels:K["a"],VForm:C["a"],VIcon:Q["a"],VRow:S["a"],VSimpleTable:X["a"],VSnackbar:P["a"],VTextField:$["a"]});var ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"NotFound"},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{attrs:{height:"400",color:"transparent",flat:""}},[r("div",{staticClass:"display-3 white--text mt-5"},[e._v(" Acesso Não Autorizado "),r("v-icon",{attrs:{"x-large":"",dark:""}},[e._v("mdi-lock-alert")])],1),r("div",{staticClass:"grey--text lighten-5"},[r("router-link",{attrs:{to:"/login"}},[e._v("Faça login")]),e._v(" para ter acesso a esta página. ")],1)])],1)],1)],1)],1)},te=[],re=(r("de41"),r("a523")),ne=r("0e8f"),ae=r("a722"),oe={},se=Object(c["a"])(oe,ee,te,!1,null,null,null),ie=se.exports;l()(se,{VCard:y["a"],VContainer:re["a"],VFlex:ne["a"],VIcon:Q["a"],VLayout:ae["a"]}),n["a"].use(v["a"]);var ce=[{path:"/",name:"Home",component:A},{path:"/list",name:"Painel de Controle",component:Z},{path:"/login",name:"Login",component:z},{path:"/not-allowed",name:"403 - Forbidden",component:ie}],ue=new v["a"]({mode:"history",base:"/",routes:ce}),le=ue,fe=r("f309");n["a"].use(fe["a"]);var de=new fe["a"]({theme:{themes:{light:{primary:"#112031",secondary:"#152D35",tertiary:"#345B63",background:"#333333"}}}}),me=r("0e44"),pe=r("bc3a"),ve=r.n(pe),he=ve.a.create({baseURL:"https://tranquil-peak-11373.herokuapp.com/api"}),be=he,ge={user:null,posts:null,list:null,giftList:null,text:"",color:"",timeout:""},xe={isAuthenticated:function(e){return!!e.user},StatePosts:function(e){return e.posts},StateUser:function(e){return e.user},UserList:function(e){return e.list},GiftList:function(e){return e.giftList}},we={LogIn:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,be.post("login",t);case 3:return r.next=5,n("setUser",t.username);case 5:case"end":return r.stop()}}),r)})))()},LogOut:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,n=null,r("setUser",n);case 3:case"end":return t.stop()}}),t)})))()},GetUserList:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,be.get("user");case 3:n=t.sent,r("setUserList",n.data.rows);case 5:case"end":return t.stop()}}),t)})))()},GetGiftList:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,be.get("gifts");case 3:n=t.sent,r("setGiftList",n.data.rows);case 5:case"end":return t.stop()}}),t)})))()},Register:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,be.post("user",t);case 3:return r.next=5,n("GetGiftList");case 5:case"end":return r.stop()}}),r)})))()},RemoveGuest:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,be.delete("user/".concat(t));case 3:return r.next=5,n("GetUserList");case 5:return r.next=7,n("GetGiftList");case 7:case"end":return r.stop()}}),r)})))()},RemoveGift:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,be.delete("gifts/".concat(t));case 3:return r.next=5,n("GetGiftList");case 5:return r.next=7,n("GetUserList");case 7:case"end":return r.stop()}}),r)})))()},AddGift:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,be.post("gifts",t);case 3:return r.next=5,n("GetGiftList");case 5:case"end":return r.stop()}}),r)})))()}},ke={setUser:function(e,t){e.user=t},setPosts:function(e,t){e.posts=t},setUserList:function(e,t){e.list=t},setGiftList:function(e,t){e.giftList=t},LogOut:function(e){e.user=null,e.posts=null,e.list=null},SHOW_MESSAGE:function(e,t){e.text=t.text,e.color=t.color,e.timeout=t.timeout}},_e={state:ge,getters:xe,actions:we,mutations:ke};n["a"].use(w["a"]);var Oe=new w["a"].Store({modules:{auth:_e},plugins:[Object(me["a"])()]});n["a"].config.productionTip=!1,new n["a"]({vuetify:de,router:le,store:Oe,render:function(e){return e(p)}}).$mount("#app")},d6db:function(e,t,r){"use strict";r("e67a")},de41:function(e,t,r){"use strict";r("e3af")},e3af:function(e,t,r){},e67a:function(e,t,r){}});
//# sourceMappingURL=app.afb1a813.js.map